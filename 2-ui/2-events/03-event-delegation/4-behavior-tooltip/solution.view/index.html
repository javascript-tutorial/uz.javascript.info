<!DOCTYPE html>
<html>
  <head>
    <meta charset="utf-8" />
    <style>
      body {
        height: 2000px;
        /* tanani aylantiruvchi qilib qo'ying, asboblar maslahati aylantirishdan keyin ishlashi kerak */
      }

      .tooltip {
        position: fixed;
        padding: 10px 20px;
        border: 1px solid #b3c9ce;
        border-radius: 4px;
        text-align: center;
        font: italic 14px/1.3 sans-serif;
        color: #333;
        background: #fff;
        box-shadow: 3px 3px 3px rgba(0, 0, 0, 0.3);
      }
    </style>
  </head>

  <body>
    <p>LaLaLa LaLaLa LaLaLa LaLaLa LaLaLa LaLaLa LaLaLa LaLaLa LaLaLa</p>
    <p>LaLaLa LaLaLa LaLaLa LaLaLa LaLaLa LaLaLa LaLaLa LaLaLa LaLaLa</p>

    <button data-tooltip="the tooltip is longer than the element">
      Qisqartiruvchi tugma
    </button>
    <button data-tooltip="HTML<br>tooltip">One more button</button>

    <p>
      Yuqorida tugmalar paydo bo'lishi uchun sahifani aylantiring, maslahatlar
      mavjudligini tekshiring to'g'ri ko'rsatish.
    </p>

    <script>
      let tooltipElem;

      document.onmouseover = function (event) {
        let target = event.target;

        // agar bizda HTML-ga ega bo'lsak...
        let tooltipHtml = target.dataset.tooltip;
        if (!tooltipHtml) return;

        // ...asboblar paneli elementini yarating

        tooltipElem = document.createElement("div");
        tooltipElem.className = "tooltip";
        tooltipElem.innerHTML = tooltipHtml;
        document.body.append(tooltipElem);

        // uni izohlangan elementning ustiga joylashtiring (yuqori markaz)
        let coords = target.getBoundingClientRect();

        let left =
          coords.left + (target.offsetWidth - tooltipElem.offsetWidth) / 2;
        if (left < 0) left = 0; // oynaning chap chetini kesib o'tmang

        let top = coords.top - tooltipElem.offsetHeight - 5;
        if (top < 0) {
          // agar oynaning yuqori chetini kesib o'tsangiz, uning o'rniga quyida ko'rsating
          top = coords.top + target.offsetHeight + 5;
        }

        tooltipElem.style.left = left + "px";
        tooltipElem.style.top = top + "px";
      };

      document.onmouseout = function (e) {
        if (tooltipElem) {
          tooltipElem.remove();
          tooltipElem = null;
        }
      };
    </script>
  </body>
</html>
