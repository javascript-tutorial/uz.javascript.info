<!DOCTYPE html>
<html>
  <head>
    <meta charset="utf-8" />
  </head>
  <body>
    <script>
      function preloadImages(sources, callback) {
        /* your code */
      }

      // ---------- The test ----------

      let sources = [
        "https://en.js.cx/images-load/1.jpg",
        "https://en.js.cx/images-load/2.jpg",
        "https://en.js.cx/images-load/3.jpg",
      ];

      // brauzer keshini oldini olish uchun tasodifiy belgilar qo'shing
      for (let i = 0; i < sources.length; i++) {
        sources[i] += "?" + Math.random();
      }

      // har bir rasm uchun,
      // xuddi shu src bilan boshqa img yaratamiz va darhol uning kengligi borligini tekshiramiz
      function testLoaded() {
        let widthSum = 0;
        for (let i = 0; i < sources.length; i++) {
          let img = document.createElement("img");
          img.src = sources[i];
          widthSum += img.width;
        }
        alert(widthSum);
      }

      // har bir rasm 100x100, umumiy kengligi 300 bo'lishi kerak
      preloadImages(sources, testLoaded);
    </script>
  </body>
</html>
